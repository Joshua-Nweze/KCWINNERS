# KC Winners API Documentation

Base URL: `https://localhost:3000/api/v1`

All protected routes require an `Authorization: Bearer <token>` header.



ðŸ”‘  AUTH ROUTES (/api/v1/auth)

# Authentication & account activation.

--- POST /api/v1/auth/sign-up
To Register a new user.

# request body: 
{
    name,
    email,
    phone,
    password
}


--- POST /api/v1/auth/login 
Authenticate user and return token.

# request body: 
{
    phone,
    password
}

--- POST /api/v1/auth/activate {protected}
Activate user account with extra profile fields and registration proof.
Form-Data:

# request body: 
{
    userId (optional)
    sex,
    bankName,
    accountNumber,
    residentialAddress,
    nextOfKinName,
    nextOfKinPhone,
    nextOfKinAddress,
    registraionProof
}

--- POST /api/v1/auth/update-profile
Update user profile

# request body:
{
    sex,
    accountName,
    accountNumber,
    residentialAddress,
    nextOfKinName,
    nextOfKinPhone,
    nextOfKinAddress,
}

--- POST /api/v1/auth/forgot-password

# request body
{
    phone
}


--- POST /api/v1/auth/verify-otp

# request body:
{ 
    phone, 
    pin, 
    pinId 
}

--- POST /api/v1/auth/reset-password

# request body
{
    phone,
    newPassword
}




ðŸ‘‘ ADMIN ROUTES (/api/v1/admin)

# Admin-only functions. {all routes are protected}

--- GET /api/v1/admin/pending-registrations
Get list of users awaiting approval.


--- POST /api/v1/admin/approve-registration/:userId
Approve a userâ€™s registration.


--- GET /api/v1/admin/cleared-users
List of users who cleared defaults and paid clearance.




ðŸ’° CONTRIBUTION ROUTES (/api/contributions)

# Handles user contributions. All routes are protected

--- POST /api/v1/contributions/create
Create a new contribution account.

# Request body
{
    userId
    referral code
}

--- GET /api/v1/contributions/:userId
Get all contributions for a user.

--- GET /api/v1/contributions/detail/:id
Get details of a single contribution account.

--- POST /api/v1/contributions/clear-defaults
Clear missed contributions (defaulter payment).

--- POST /api/v1/contributions/pay-clearance
Pay clearance fee (before withdrawal).





ðŸ‘¤ USER ROUTES (/api/users)

# Get user info.

--- GET /api/users/:id {protected}
Fetch single user by ID.





ðŸ’µ Wallet Routes (/api/v1/wallet)

# Wallet funding & tracking.

--- POST /api/v1/wallet/fund-initiate
Initiate a transfer to fund wallet.

# request body
{
    amount
}

--- POST /api/v1/wallet/fund-verify
Handle webhook for automatic wallet funding

--- POST /api/v1/wallet/webhook
Initiate a transfer to fund wallet.

--- POST /api/v1/wallet/transactions 
Handle webhook for automatic wallet funding

--- POST /api/v1/wallet/revenue/monthly 
Handle webhook for automatic wallet funding

